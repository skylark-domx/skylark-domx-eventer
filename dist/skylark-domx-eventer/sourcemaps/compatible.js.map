{"version":3,"sources":["compatible.js"],"names":["define","langx","eventer","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","compatible","event","source","isDefaultPrevented","each","name","predicate","sourceMethod","this","returnTrue","apply","arguments","returnFalse"],"mappings":";;;;;;;AAAAA,QACC,gBACA,aACC,SAASC,EAAMC,GACb,IAAIC,GACAC,eAAgB,qBAChBC,yBAA0B,gCAC1BC,gBAAiB,wBAsBrB,OAAOJ,EAAQK,WAnBf,SAAoBC,EAAOC,GAevB,OAdIA,GAAWD,EAAME,qBACZD,IACDA,EAASD,GAGbP,EAAMU,KAAKR,EAAc,SAASS,EAAMC,GACpC,IAAIC,EAAeL,EAAOG,GAC1BJ,EAAMI,GAAQ,WAEV,OADAG,KAAKF,GAAaZ,EAAMe,WACjBF,GAAgBA,EAAaG,MAAMR,EAAQS,YAEtDV,EAAMK,GAAaZ,EAAMkB,eAG1BX","file":"../compatible.js","sourcesContent":["define([\r\n\t\"skylark-langx\",\r\n\t\"./eventer\"\r\n],function(langx,eventer){\r\n    var eventMethods = {\r\n        preventDefault: \"isDefaultPrevented\",\r\n        stopImmediatePropagation: \"isImmediatePropagationStopped\",\r\n        stopPropagation: \"isPropagationStopped\"\r\n    };\r\n\r\n    function compatible(event, source) {\r\n        if (source || !event.isDefaultPrevented) {\r\n            if (!source) {\r\n                source = event;\r\n            }\r\n\r\n            langx.each(eventMethods, function(name, predicate) {\r\n                var sourceMethod = source[name];\r\n                event[name] = function() {\r\n                    this[predicate] = langx.returnTrue;\r\n                    return sourceMethod && sourceMethod.apply(source, arguments);\r\n                }\r\n                event[predicate] = langx.returnFalse;\r\n            });\r\n        }\r\n        return event;\r\n    }\r\n\r\n\r\n    return eventer.compatible = compatible;\r\n});"]}